#!/bin/sh
# SiliconFlow Image MCP - Unix/Linux/macOS wrapper script
# Handles both local development and global installation

# Get the real directory of this script (resolves symlinks)
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

# In production (npm install), dist/index.js is in node_modules/siliconflow-image-mcp/dist/
# The bin script is in node_modules/siliconflow-image-mcp/bin/
if [ -f "$SCRIPT_DIR/../dist/index.js" ]; then
    # Production mode - run compiled JavaScript
    exec node "$SCRIPT_DIR/../dist/index.js" "$@"
else
    echo "Error: Could not find siliconflow-image-mcp dist/index.js"
    echo "Searched in: $SCRIPT_DIR/../dist/index.js"
    exit 1
fi
